---
// src/components/Header.astro
import ThemeToggle from './ThemeToggle.astro';
---
<div class="container mx-auto flex items-center justify-between px-4">
  <!-- Logo y título -->
  <div class="flex items-center space-x-3">
    <div class="w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center">
      <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
        <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
      </svg>
    </div>
    <h1 class="text-xl font-bold text-white">API Clarisa</h1>
  </div>

  <!-- Buscador central -->
  <div class="flex-1 max-w-md mx-8">
    <div class="relative">
      <input 
        type="text" 
        id="search-input"
        placeholder="Buscar en la documentación..." 
        class="w-full px-4 py-2 pl-10 pr-4 text-gray-900 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
      />
      <div class="absolute inset-y-0 left-0 flex items-center pl-3">
        <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m21 21-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
        </svg>
      </div>
    </div>
  </div>

  <!-- Navegación y dark mode -->
  <nav class="flex items-center space-x-4">
    <a href="/" class="text-gray-300 hover:text-white transition-colors">Inicio</a>
    <a href="/docs" class="text-gray-300 hover:text-white transition-colors">Docs</a>
    <ThemeToggle />
  </nav>
</div>

<script>
  // Funcionalidad de búsqueda
  document.addEventListener('DOMContentLoaded', function() {
    const searchInput = document.getElementById('search-input') as HTMLInputElement;
    
    searchInput?.addEventListener('input', function(e) {
      const target = e.target as HTMLInputElement;
      const query = target.value.toLowerCase();
      
      // Aquí puedes implementar la lógica de búsqueda
      // Por ahora, solo filtraremos elementos visibles del menú
      const menuItems = document.querySelectorAll('.sidebar-menu-item');
      
      menuItems.forEach(item => {
        const htmlItem = item as HTMLElement;
        const text = htmlItem.textContent?.toLowerCase() || '';
        if (text.includes(query) || query === '') {
          htmlItem.style.display = 'block';
        } else {
          htmlItem.style.display = 'none';
        }
      });
    });
  });
</script>